<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `gxi` crate."><meta name="keywords" content="rust, rustlang, rust-lang, gxi"><title>gxi - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../dark.css"><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script src="../storage.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><p class='location'>Crate gxi</p><div class="sidebar-elems"><a id='all-types' href='all.html'><p>See all gxi's items</p></a><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#macros">Macros</a></li><li><a href="#functions">Functions</a></li></ul></div><p class='location'></p><script>window.sidebarCurrent = {name: 'gxi', ty: 'mod', relpath: '../'};</script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../theme.js"></script><nav class="sub"><form class="search-form js-only"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><a id="settings-menu" href="../settings.html"><img src="../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../src/gxi/main.rs.html#1-206' title='goto source code'>[src]</a></span><span class='in-band'>Crate <a class="mod" href=''>gxi</a></span></h1><div class='docblock'><p>Welcome to the gxi docs!
Since gxi isn't a library these docs are meant to help contributors understand gxi's code.</p>
<p>gxi's structure can be simplified like this:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
 <span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span>            <span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span>                 <span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span>
 <span class="op">|</span>        <span class="op">|</span>   <span class="ident">spawns</span>   <span class="op">|</span>         <span class="op">|</span><span class="ident">changes</span> <span class="ident">MainState</span><span class="op">|</span>        <span class="op">|</span>
 <span class="op">|</span>  <span class="ident">Core</span>  <span class="op">|</span>&lt;-<span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">|</span> <span class="ident">MainWin</span> <span class="op">|</span>&lt;-<span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">|</span><span class="ident">EditView</span><span class="op">|</span>
 <span class="op">|</span> <span class="ident">thread</span> <span class="op">|</span> <span class="ident">sends</span> <span class="ident">msgs</span> <span class="op">|</span><span class="ident">MainState</span><span class="op">|</span>  <span class="ident">forwards</span> <span class="ident">msgs</span>  <span class="op">|</span>        <span class="op">|</span>
 <span class="op">|</span>        <span class="op">|</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-&gt;</span><span class="op">|</span>         <span class="op">|</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-&gt;</span><span class="op">|</span>        <span class="op">|</span>
 <span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span>            <span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span> <span class="ident">related</span> <span class="ident">to</span> <span class="ident">edit</span> <span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span>
 <span class="op">^</span>   <span class="op">^</span>                                                  <span class="op">|</span>
 <span class="op">|</span>   <span class="op">|</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span>                                         <span class="op">|</span>
 <span class="op">|</span>            <span class="op">|</span>                                         <span class="op">|</span>
 <span class="ident">xi</span><span class="op">-</span><span class="ident">editor</span>    <span class="op">|</span>                                         <span class="op">|</span>
 <span class="ident">sends</span>        <span class="op">|</span>                                         <span class="op">|</span>
 <span class="ident">msgs</span>         <span class="op">|</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span><span class="op">-</span>
              <span class="ident">sends</span> <span class="ident">editing</span> <span class="ident">events</span> <span class="ident">to</span> <span class="ident">RPC</span>, <span class="ident">which</span> <span class="ident">forwards</span>
                      <span class="ident">them</span> <span class="ident">to</span> <span class="ident">xi</span> <span class="ident">to</span> <span class="ident">process</span> <span class="ident">them</span></pre></div>
<p>Now onto more detailed explanation:</p>
<ul>
<li>
<p>MainWin:  This is main window (as the name suggests). It holds all buttons you can see when
opening gxi, such as the open button, new tab button, the syntax selection, the save
button and window controls. It also has a <code>Notebook</code> inside of it, which holds <code>EditView</code>s.
The <code>Notebook</code> shows a tab for every open <code>EditView</code>, allowing the user to open multiple
documents at once.
The <code>MainWin</code> also has another important feature: It deals with so called <code>CoreMsg</code>s.
It grabs them from a SharedQueue which is <code>crossbeam_deque::Injector</code> under the hood.
They are messages xi-editor sends us, telling us stuff like config changes by the user
(e.g. the font size has been changed) or that we should measure the view's size for it,
for word wrapping. Please see <a href="https://xi-editor.io/docs/frontend-protocol.html">the xi-frontend docs</a>
for more info.
<code>MainWin</code> processes some messages by itself, e.g. displaying an error message if xi
sends us an <code>alert</code>. It sends editing related messages to the appropriate EditView.
<code>MainWin</code> also holds the <code>MainState</code>, which holds stuff the <code>EditView</code> might need too,
e.g. the selected font face&amp;font size, which syntax or theme has been selected etc.</p>
</li>
<li>
<p>EditView: This is where all the actual editing takes place. Since this is a GTK <code>DrawingArea</code>
we have to handle everything ourselves: Scrolling to the right lines, setting editing
shortcuts (e.g. copy&amp;paste), drawing each line and sending changes to xi-editor.
It also processes the <code>CoreMsg</code>s it receives from <code>MainWin</code>, e.g. setting the appropriate
font size&amp;font face.</p>
</li>
<li>
<p>Core:     This deals with receiving messages from xi-editor (via a new thread) and adding them
to the SharedQueue for <code>MainWin</code> to deal with later on. It also contains the functions
to send messages back to xi-editor, e.g. for notifying it about new editing events
such as us inserting a character. Again, Please see <a href="https://xi-editor.io/docs/frontend-protocol.html">the xi-frontend docs</a>
for more info on how this works and what msgs can be exchanged and how the RPC works.</p>
</li>
</ul>
<p>gxi also contains some more minor modules, please see their documentation for more info:</p>
<ul>
<li><a href="about_win/struct.AboutWin.html">AboutWin</a></li>
<li><a href="pref_storage/struct.Config.html">Config</a> and <a href="pref_storage/struct.XiConfig.html">XiConfig</a></li>
<li><a href="errors/struct.ErrorDialog.html">ErrWin</a></li>
<li><a href="prefs_win/struct.PrefsWin.html">PrefsWin</a></li>
<li><a href="shared_queue/struct.SharedQueue.html">SharedQueue</a></li>
</ul>
<p>I can very much recommend you to look at https://mmstick.github.io/gtkrs-tutorials/ if you don't
know gtk-rs yet!</p>
</div><h2 id='modules' class='section-header'><a href="#modules">Modules</a></h2>
<table><tr class='module-item'><td><a class="mod" href="about_win/index.html" title='gxi::about_win mod'>about_win</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="mod" href="edit_view/index.html" title='gxi::edit_view mod'>edit_view</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="mod" href="errors/index.html" title='gxi::errors mod'>errors</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="mod" href="globals/index.html" title='gxi::globals mod'>globals</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="mod" href="linecache/index.html" title='gxi::linecache mod'>linecache</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="mod" href="macros/index.html" title='gxi::macros mod'>macros</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="mod" href="main_win/index.html" title='gxi::main_win mod'>main_win</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="mod" href="pref_storage/index.html" title='gxi::pref_storage mod'>pref_storage</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="mod" href="prefs_win/index.html" title='gxi::prefs_win mod'>prefs_win</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="mod" href="proto/index.html" title='gxi::proto mod'>proto</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="mod" href="rpc/index.html" title='gxi::rpc mod'>rpc</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="mod" href="shared_queue/index.html" title='gxi::shared_queue mod'>shared_queue</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="mod" href="theme/index.html" title='gxi::theme mod'>theme</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="mod" href="xi_thread/index.html" title='gxi::xi_thread mod'>xi_thread</a></td><td class='docblock-short'></td></tr></table><h2 id='macros' class='section-header'><a href="#macros">Macros</a></h2>
<table><tr class='module-item'><td><a class="macro" href="macro.clone.html" title='gxi::clone macro'>clone</a></td><td class='docblock-short'></td></tr></table><h2 id='functions' class='section-header'><a href="#functions">Functions</a></h2>
<table><tr class='module-item'><td><a class="fn" href="fn.main.html" title='gxi::main fn'>main</a></td><td class='docblock-short'></td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><aside id="help" class="hidden"><div><h1 class="hidden">Help</h1><div class="shortcuts"><h2>Keyboard Shortcuts</h2><dl><dt><kbd>?</kbd></dt><dd>Show this help dialog</dd><dt><kbd>S</kbd></dt><dd>Focus the search field</dd><dt><kbd>↑</kbd></dt><dd>Move up in search results</dd><dt><kbd>↓</kbd></dt><dd>Move down in search results</dd><dt><kbd>↹</kbd></dt><dd>Switch tab</dd><dt><kbd>&#9166;</kbd></dt><dd>Go to active search result</dd><dt><kbd>+</kbd></dt><dd>Expand all sections</dd><dt><kbd>-</kbd></dt><dd>Collapse all sections</dd></dl></div><div class="infos"><h2>Search Tricks</h2><p>Prefix searches with a type followed by a colon (e.g., <code>fn:</code>) to restrict the search to a given type.</p><p>Accepted types are: <code>fn</code>, <code>mod</code>, <code>struct</code>, <code>enum</code>, <code>trait</code>, <code>type</code>, <code>macro</code>, and <code>const</code>.</p><p>Search functions by type signature (e.g., <code>vec -> usize</code> or <code>* -> vec</code>)</p><p>Search multiple things at once by splitting your query with comma (e.g., <code>str,u8</code> or <code>String,struct:Vec,test</code>)</p></div></div></aside><script>window.rootPath = "../";window.currentCrate = "gxi";</script><script src="../aliases.js"></script><script src="../main.js"></script><script defer src="../search-index.js"></script></body></html>